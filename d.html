<!DOCTYPE html>
<html>
<head>
        
</head>
<body>
    <div id="fade-obj" style="width:300px;height:300px;background:#000;opacity:1.0"></div>
    <button id="fade-btn">淡出</button>

    <script>
            var obj = document.getElementById("fade-obj");
            var btn = document.getElementById("fade-btn");
            var number = 10 ;
            var time =  null;
            var status=1
            function fade() {
                
                number = --number;
                //console.log(number);
                var num=number /10
                if(number == 0){
                    clearInterval(time);
                   btn.innerHTML = "淡入";
                   status =2    ;
                   num = 0.0;             
                };
                
                obj.style.cssText+= ";opacity:"+num +";"
            };

            function fadeout(){
                number = ++number;
                if(number == 10){
                    clearInterval(time);
                   btn.innerHTML = "淡出";
                   status =1    ;             
                };
                obj.style.opacity = number / 10 ;}
            
            btn.onclick=function(){
                if(status ==1){status =3;
                time =  setInterval (fade , 100);}
                else if(status ==2){status =3;
                time = setInterval (fadeout , 100);

                }
            }


          

            

        
        </script>
</body>
</html>